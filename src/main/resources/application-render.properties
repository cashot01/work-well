# Configurações específicas para o ambiente Render

# Banco de Dados (Render injeta DATABASE_URL, USERNAME, PASSWORD)
# O Render injeta a DATABASE_URL no formato postgres://user:password@host:port/database
# O Spring Boot 3.1+ (com driver 42.4.0+) consegue converter o formato postgres:// para jdbc:postgresql://
# Se o Spring Boot for mais antigo, a conversão manual pode ser necessária.
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# RabbitMQ (Render injeta variáveis de ambiente do CloudAMQP)
# As variáveis de ambiente do render.yaml (SPRING_RABBITMQ_HOST, etc.) serão usadas.
# O Spring Boot irá configurar o RabbitMQ automaticamente com essas variáveis.
# Não é necessário definir host, port, username, password aqui, pois as variáveis de ambiente têm precedência.

# Hugging Face API
huggingface.api.key=${HUGGINGFACE_API_KEY}
huggingface.api.model=distilgpt2
huggingface.api.url=https://router.huggingface.co/hf-inference/models

# Porta
server.port=${PORT:8080}